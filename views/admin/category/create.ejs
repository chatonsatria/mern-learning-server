<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/html">
  <%- include ../../layoutParts/head.ejs %>

  <body class="hold-transition sidebar-mini layout-fixed">
    <!-- navbar -->
    <%- include ../../layoutParts/navbar.ejs %>
    <!-- sidebar -->
    <%- include ../../layoutParts/sidebar.ejs %>
    <!-- content wrapper -->
    <div class="content-wrapper">
      <!-- content header -->
      <div class="content-header">
        <div class="container-fluid">
          <div class="row mb-2">
            <div class="col-sm-6">
              <h1 class="m-0">Create Category</h1>
            </div>
            <div class="col-sm-6">
              <ol class="breadcrumb float-sm-right">
                <li class="breadcrumb-item"><a href="/">Dashboard</a></li>
                <li class="breadcrumb-item">
                  <a href="/category">Category</a>
                </li>
                <li class="breadcrumb-item active">Create</li>
              </ol>
            </div>
          </div>
        </div>
      </div>
      <!-- main content -->
      <section class="content">
        <div class="container-fluid">
          <div class="card card-primary">
            <form
              action="/category/create"
              method="POST"
              enctype="multipart/form-data"
            >
              <div class="card-body">
                <div class="form-group">
                  <label for="name">Category Name</label>
                  <input
                    name="name"
                    type="text"
                    class="form-control"
                    id="name"
                    placeholder="Enter category name"
                    required
                  />
                </div>
                <div class="form-group">
                  <label for="icon">Category Icon</label>
                  <input
                    name="icon"
                    type="file"
                    id="icon"
                    class="form-control"
                  />
                  <br />
                  <img src="" id="preview" />
                </div>
              </div>
              <div class="card-footer">
                <button type="submit" class="btn btn-primary">Submit</button>
              </div>
            </form>
          </div>
        </div>
      </section>
    </div>
    <!-- footer -->
    <%- include ../../layoutParts/footer.ejs %>
    <!-- js -->
    <%- include ../../layoutParts/js.ejs %>
  </body>
  <script>
    function readURL(input) {
      if (input.files && input.files[0]) {
        const reader = new FileReader();

        reader.onload = function (e) {
          $("#preview").attr("src", e.target.result);
          $("#preview").attr("width", "20%");
          $("#preview").attr("height", "20%");
        };

        reader.readAsDataURL(input.files[0]);
      }
    }

    $("#icon").change(function () {
      readURL(this);
    });
  </script>
</html>
